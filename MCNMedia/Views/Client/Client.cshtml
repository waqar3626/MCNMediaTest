@model MCNMedia_Dev.Models.Church
@{
    ViewData["Title"] = "Client";
    Layout = "~/Views/Shared/_LayoutClient.cshtml";

}

@{
    List<SelectListItem> SelectList = Lists.GetChurchListForDDL();
}
<h1>Client</h1>
<form asp-action="UpdateChurchInfo">
    <div class="card">
        <div class="card-body">
            <div class="form-group row">
                <h3>Switch Church</h3>
                @Html.DropDownList("ChurchId", SelectList, new { @class = "form-control", @onchange = "javascript:onChangeFunction()", @id = "ddlid" })
                @*@Html.DropDownList("Churches.ClientTypeId", ClientTypes, new { @class = "form-control" })*@
                <span class="text-danger"></span>
            </div>

            <div class="form-group row">
                <div class="image">
                    <img src="https://mcnmedia.tv/images/missing-image.jpg" style="border-radius:100%; width:100px; height:100px" />
                </div>
                <div class="col-sm-9">
                    <br />

                    <h3 href="#">@Html.DisplayFor(item => item.ChurchName)</h3>
                    <br />
                    <a href="#">Request Help </a> |
                    <a href="#"> Change Profile Image</a>
                </div>
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <input type="hidden" />
            <div class=".display2 mdi mdi-information-variant"> General Info</div>
            <div class="form-group row">
                <div class="form-group col-6">

                    <input type="hidden" asp-for="ChurchId" />
                    <input type="hidden" asp-for="CountyId" />
                    <input type="hidden" asp-for="ClientTypeId" />
                    <input type="hidden" asp-for="ImageURl" />
                    <label class="form-label">Name</label>
                    <input type="text" class="form-control" asp-for="ChurchName" placeholder="Name" />
                </div>
                <div class="form-group col-6">
                    <label class="form-label">Email</label>
                    <input type="text" class="form-control" placeholder="Email" asp-for="EmailAddress" />
                </div>
            </div>
            <div class="form-group row">
                <div class="form-group col-6">
                    <label class="form-label">Phone</label>
                    <input type="text" class="form-control" placeholder="Phone" asp-for="Phone" />
                </div>
                <div class="form-group col-6">
                    <label class="form-label">Address</label>
                    <input type="text" class="form-control" placeholder="Address" asp-for="Address" />
                </div>
            </div>
            <div class="form-group row">
                <div class="form-group col-6">
                    <label class="form-label">Town</label>
                    <input type="text" class="form-control" placeholder="Town" asp-for="Town" />
                </div>
                <div class="form-group col-6">
                    <label class="form-label">WebSite</label>
                    <input type="text" class="form-control" placeholder="Address" asp-for="Website" />
                </div>
            </div>
            <div class="form-group row">
                <div class="form-group col-6">
                    <label class="form-label">Password</label>
                    <p style="font-size:10px">You can add a password to your page this will stop users from viewing your camera unless they have a password.Leave blank to make it public</p>
                    <input type="text" class="form-control" placeholder="Password" />
                </div>
                <div class="form-group col-6">
                    <div class="float-right">
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <button type="submit" value="Update" class="btn btn-primary btn-sm "><i class="fa fa-plus"></i> Update</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
<script type="text/javascript">
    function onChangeFunction() {


        var churchId = document.getElementById('ddlid').value;
        //var formData = new FormData();
        //formData.append("ddlValue", ddlValue);

        $.ajax({
            type: "Get",
            //url: "/Client/Client/",
            url: '@Url.Action("ChurchInfo", "Client")',
            data: { churchId: churchId }


            //data: formData,
            //data: { AddVidTabName: AddvidTabName, VidFile11: VidFile1 },
        });
    }
</script>